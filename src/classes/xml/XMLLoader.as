package classes.xml{	import flash.display.MovieClip;	import flash.display.Loader;	import flash.events.Event;	import flash.events.EventDispatcher;	import flash.events.IOErrorEvent;	import flash.net.URLLoader;	import flash.net.URLRequest;			public class XMLLoader extends MovieClip	{		 		private var loader:URLLoader;		private var _the_xml:XML;		public static const XMLLOADED:String = "xmlloaded"; 				public function XMLLoader()		{					}				public function loadXML( xml_path:String ):void		{			var xml_request:URLRequest = new URLRequest(xml_path);			loader = new URLLoader();						loader.addEventListener( Event.COMPLETE, loadComplete );			loader.addEventListener( IOErrorEvent.IO_ERROR, loadError );						loader.load( xml_request );		}						private function loadError( ev:Event ):void		{			loader.removeEventListener(Event.COMPLETE, loadComplete);			loader.removeEventListener(IOErrorEvent.IO_ERROR, loadError);						trace( "An error occurred: "+ev );		}						private function loadComplete( ev:Event ):void		{			_the_xml = XML( loader.data );						loader.removeEventListener(Event.COMPLETE, loadComplete);			loader.removeEventListener(IOErrorEvent.IO_ERROR, loadError);						dispatchEvent( new Event( XMLLoader.XMLLOADED ) );		}						public function get the_xml():XML		{			return _the_xml;		}	}}